"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("primereact/api"),r=require("primereact/componentbase"),n=require("primereact/hooks"),o=require("primereact/portal"),i=require("primereact/utils");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function l(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,Object.freeze(e)}var u=l(t),c=a(e);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(this,arguments)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function f(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function d(t){var e=f(t,"string");return"symbol"===p(e)?e:String(e)}function m(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t){if(Array.isArray(t))return h(t)}function y(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function b(t,e){if(t){if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(t){if(Array.isArray(t))return t}function E(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,e){return w(t)||E(t,e)||b(t,e)||O()}var S=r.ComponentBase.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:{root:function(t){var e=t.classNameState;return i.classNames("p-tooltip p-component",m({},"p-tooltip-".concat(t.positionState),!0),e)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},styles:"\n@layer primereact {\n    .p-tooltip {\n        position: absolute;\n        padding: .25em .5rem;\n        /* #3687: Tooltip prevent scrollbar flickering */\n        top: -9999px;\n        left: -9999px;\n    }\n    \n    .p-tooltip.p-tooltip-right,\n    .p-tooltip.p-tooltip-left {\n        padding: 0 .25rem;\n    }\n    \n    .p-tooltip.p-tooltip-top,\n    .p-tooltip.p-tooltip-bottom {\n        padding:.25em 0;\n    }\n    \n    .p-tooltip .p-tooltip-text {\n       white-space: pre-line;\n       word-break: break-word;\n    }\n    \n    .p-tooltip-arrow {\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-color: transparent;\n        border-style: solid;\n    }\n    \n    .p-tooltip-right .p-tooltip-arrow {\n        top: 50%;\n        left: 0;\n        margin-top: -.25rem;\n        border-width: .25em .25em .25em 0;\n    }\n    \n    .p-tooltip-left .p-tooltip-arrow {\n        top: 50%;\n        right: 0;\n        margin-top: -.25rem;\n        border-width: .25em 0 .25em .25rem;\n    }\n    \n    .p-tooltip.p-tooltip-top {\n        padding: .25em 0;\n    }\n    \n    .p-tooltip-top .p-tooltip-arrow {\n        bottom: 0;\n        left: 50%;\n        margin-left: -.25rem;\n        border-width: .25em .25em 0;\n    }\n    \n    .p-tooltip-bottom .p-tooltip-arrow {\n        top: 0;\n        left: 50%;\n        margin-left: -.25rem;\n        border-width: 0 .25em .25rem;\n    }\n\n    .p-tooltip-target-wrapper {\n        display: inline-flex;\n    }\n}\n",inlineStyles:{arrow:function(t){var e=t.context;return{top:e.bottom?"0":e.right||e.left||!e.right&&!e.left&&!e.top&&!e.bottom?"50%":null,bottom:e.top?"0":null,left:!e.right&&(e.right||e.left||e.top||e.bottom)?e.top||e.bottom?"50%":null:"0",right:e.left?"0":null}}}}});function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var D=u.memo(u.forwardRef((function(t,a){var l=n.useMergeProps(),p=u.useContext(e.PrimeReactContext),f=S.getProps(t,p),d=x(u.useState(!1),2),m=d[0],h=d[1],w=x(u.useState(f.position||"right"),2),E=w[0],O=w[1],T=x(u.useState(""),2),D=T[0],H=T[1],P=x(u.useState(!1),2),I=P[0],k=P[1],N=m&&f.closeOnEscape,C=n.useDisplayOrder("tooltip",N),A={props:f,state:{visible:m,position:E,className:D},context:{right:"right"===E,left:"left"===E,top:"top"===E,bottom:"bottom"===E}},L=S.setMetaData(A),R=L.ptm,U=L.cx,M=L.sx;r.useHandleStyle(S.css.styles,L.isUnstyled,{name:"tooltip"}),n.useGlobalOnEscapeKey({callback:function(){st()},when:N,priority:[n.ESC_KEY_HANDLING_PRIORITIES.TOOLTIP,C]});var Z=u.useRef(null),_=u.useRef(null),W=u.useRef(null),q=u.useRef(null),B=u.useRef(!0),z=u.useRef({}),F=u.useRef(null),Y=x(n.useResizeListener({listener:function(t){!i.DomHandler.isTouchDevice()&&st(t)}}),2),G=Y[0],K=Y[1],X=x(n.useOverlayScrollListener({target:W.current,listener:function(t){st(t)},when:m}),2),$=X[0],J=X[1],Q=function(t){return rt(t,"mousetrack")||f.mouseTrack},V=function(t){return"true"===rt(t,"disabled")||nt(t,"disabled")||f.disabled},tt=function(t){return rt(t,"showondisabled")||f.showOnDisabled},et=function(){return rt(W.current,"autohide")||f.autoHide},rt=function(t,e){return nt(t,"data-pr-".concat(e))?t.getAttribute("data-pr-".concat(e)):null},nt=function(t,e){return t&&t.hasAttribute(e)},ot=function(t){var e=[rt(t,"showevent")||f.showEvent],r=[rt(t,"hideevent")||f.hideEvent];if(Q(t))e=["mousemove"],r=["mouseleave"];else{var n=rt(t,"event")||f.event;"focus"===n&&(e=["focus"],r=["blur"]),"both"===n&&(e=["focus","mouseenter"],r=I?["blur"]:["mouseleave","blur"])}return{showEvents:e,hideEvents:r}},it=function(t){return rt(t,"position")||E},at=function(t){return{top:rt(t,"mousetracktop")||f.mouseTrackTop,left:rt(t,"mousetrackleft")||f.mouseTrackLeft}},lt=function(t,e){if(_.current){var r=rt(t,"tooltip")||f.content;r?(_.current.innerHTML="",_.current.appendChild(document.createTextNode(r)),e()):f.children&&e()}},ut=function(t){lt(W.current,(function(){var e=F.current,r=e.pageX,n=e.pageY;f.autoZIndex&&!i.ZIndexUtils.get(Z.current)&&i.ZIndexUtils.set("tooltip",Z.current,p&&p.autoZIndex||c.default.autoZIndex,f.baseZIndex||p&&p.zIndex.tooltip||c.default.zIndex.tooltip),Z.current.style.left="",Z.current.style.top="",et()&&(Z.current.style.pointerEvents="none");var o=Q(W.current)||"mouse"===t;(o&&!q.current||o)&&(q.current={width:i.DomHandler.getOuterWidth(Z.current),height:i.DomHandler.getOuterHeight(Z.current)}),pt(W.current,{x:r,y:n},t)}))},ct=function(t){t.type&&"focus"===t.type&&k(!0),W.current=t.currentTarget;var e,r=V(W.current);(e=tt(W.current)&&r?W.current.firstChild:W.current,!(f.content||rt(e,"tooltip")||f.children))||r||(F.current=t,m?vt("updateDelay",ut):yt(f.onBeforeShow,{originalEvent:t,target:W.current})&&vt("showDelay",(function(){h(!0),yt(f.onShow,{originalEvent:t,target:W.current})})))},st=function(t){(t&&"blur"===t.type&&k(!1),bt(),m)&&(yt(f.onBeforeHide,{originalEvent:t,target:W.current})&&vt("hideDelay",(function(){(et()||!1!==B.current)&&(i.ZIndexUtils.clear(Z.current),i.DomHandler.removeClass(Z.current,"p-tooltip-active"),h(!1),yt(f.onHide,{originalEvent:t,target:W.current}))})))},pt=function(t,e,r){var n=0,o=0,a=r||E;if((Q(t)||"mouse"==a)&&e){var l={width:i.DomHandler.getOuterWidth(Z.current),height:i.DomHandler.getOuterHeight(Z.current)};n=e.x,o=e.y;var u=at(t),c=u.top,s=u.left;switch(a){case"left":n-=l.width+s,o-=l.height/2-c;break;case"right":case"mouse":n+=s,o-=l.height/2-c;break;case"top":n-=l.width/2-s,o-=l.height+c;break;case"bottom":n-=l.width/2-s,o+=c}n<=0||q.current.width>l.width?(Z.current.style.left="0px",Z.current.style.right=window.innerWidth-l.width-n+"px"):(Z.current.style.right="",Z.current.style.left=n+"px"),Z.current.style.top=o+"px",i.DomHandler.addClass(Z.current,"p-tooltip-active")}else{var p=i.DomHandler.findCollisionPosition(a),d=rt(t,"my")||f.my||p.my,m=rt(t,"at")||f.at||p.at;Z.current.style.padding="0px",i.DomHandler.flipfitCollision(Z.current,t,d,m,(function(t){var e=t.at,r=e.x,n=f.at?"center"!==r&&r!==t.my.x?r:e.y:t.at["".concat(p.axis)];Z.current.style.padding="",O(n),ft(n),i.DomHandler.addClass(Z.current,"p-tooltip-active")}))}},ft=function(t){if(Z.current){var e=getComputedStyle(Z.current);"left"===t?Z.current.style.left=parseFloat(e.left)-2*parseFloat(e.paddingLeft)+"px":"top"===t&&(Z.current.style.top=parseFloat(e.top)-2*parseFloat(e.paddingTop)+"px")}},dt=function(t){et()||(B.current=!0,st(t))},mt=function(t){if(t){var e=ot(t),r=e.showEvents,n=e.hideEvents,o=gt(t);r.forEach((function(t){return null==o?void 0:o.addEventListener(t,ct)})),n.forEach((function(t){return null==o?void 0:o.addEventListener(t,st)}))}},ht=function(t){if(t){var e=ot(t),r=e.showEvents,n=e.hideEvents,o=gt(t);r.forEach((function(t){return null==o?void 0:o.removeEventListener(t,ct)})),n.forEach((function(t){return null==o?void 0:o.removeEventListener(t,st)}))}},vt=function(t,e){bt();var r=rt(W.current,t.toLowerCase())||f[t];r?z.current["".concat(t)]=setTimeout((function(){return e()}),r):e()},yt=function(t){if(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=t.apply(void 0,r);return void 0===o&&(o=!0),o}return!0},bt=function(){Object.values(z.current).forEach((function(t){return clearTimeout(t)}))},gt=function(t){if(t){if(tt(t)){if(!t.hasWrapper){var e=document.createElement("div");return"INPUT"===t.nodeName?i.DomHandler.addMultipleClasses(e,"p-tooltip-target-wrapper p-inputwrapper"):i.DomHandler.addClass(e,"p-tooltip-target-wrapper"),t.parentNode.insertBefore(e,t),e.appendChild(t),t.hasWrapper=!0,e}return t.parentElement}var r;return t.hasWrapper&&((r=t.parentElement).replaceWith.apply(r,v(n=t.parentElement.childNodes)||y(n)||b(n)||g()),delete t.hasWrapper),t}var n;return null},wt=function(t){Ot(t),Et(t)},Et=function(t){xt(t||f.target,mt)},Ot=function(t){xt(t||f.target,ht)},xt=function(t,e){if(t=i.ObjectUtils.getRefElement(t))if(i.DomHandler.isElement(t))e(t);else{var r=function(t){i.DomHandler.find(document,t).forEach((function(t){e(t)}))};t instanceof Array?t.forEach((function(t){r(t)})):r(t)}};n.useMountEffect((function(){m&&W.current&&V(W.current)&&st()})),n.useUpdateEffect((function(){return Et(),function(){Ot()}}),[ct,st,f.target]),n.useUpdateEffect((function(){if(m){var t=it(W.current),e=rt(W.current,"classname");O(t),H(e),ut(t),G(),$()}else O(f.position||"right"),H(""),W.current=null,q.current=null,B.current=!0;return function(){K(),J()}}),[m]),n.useUpdateEffect((function(){var t=it(W.current);m&&"mouse"!==t&&vt("updateDelay",(function(){lt(W.current,(function(){pt(W.current)}))}))}),[f.content]),n.useUnmountEffect((function(){st(),i.ZIndexUtils.clear(Z.current)})),u.useImperativeHandle(a,(function(){return{props:f,updateTargetEvents:wt,loadTargetEvents:Et,unloadTargetEvents:Ot,show:ct,hide:st,getElement:function(){return Z.current},getTarget:function(){return W.current}}}));var St,Tt,jt,Dt,Ht;if(m){var Pt=(St=W.current,Tt=!(f.content||rt(St,"tooltip")),jt=l({id:f.id,className:i.classNames(f.className,U("root",{positionState:E,classNameState:D})),style:f.style,role:"tooltip","aria-hidden":m,onMouseEnter:function(t){et()||(B.current=!1)},onMouseLeave:function(t){return dt(t)}},S.getOtherProps(f),R("root")),Dt=l({className:U("arrow"),style:M("arrow",j({},A))},R("arrow")),Ht=l({className:U("text")},R("text")),u.createElement("div",s({ref:Z},jt),u.createElement("div",Dt),u.createElement("div",s({ref:_},Ht),Tt&&f.children)));return u.createElement(o.Portal,{element:Pt,appendTo:f.appendTo,visible:!0})}return null})));D.displayName="Tooltip",exports.Tooltip=D;
